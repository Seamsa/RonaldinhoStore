<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R10 Admin | Dashboard PropriÃ©taire</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #E2A900; --dark: #000100; }
        body { background-color: white; color: var(--dark); font-family: 'Space Grotesk', sans-serif; }
        .neo-brutal-shadow { box-shadow: 8px 8px 0px 0px var(--dark); }
        .heading-font { font-family: 'Archivo Black', sans-serif; text-transform: uppercase; }
        .admin-card { border: 4px solid var(--dark); padding: 1.5rem; margin-bottom: 2rem; }
        .input-neo { border: 3px solid black; padding: 0.5rem; width: 100%; font-weight: bold; outline: none; margin-bottom: 1rem; }
        .btn-neo { background: var(--primary); border: 3px solid black; padding: 0.75rem 1.5rem; font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .btn-neo:hover { transform: translate(-2px, -2px); box-shadow: 4px 4px 0px 0px black; }
        .sidebar { background: var(--dark); color: var(--primary); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="flex min-h-screen">

    <aside class="w-64 sidebar p-6 flex flex-col border-r-4 border-black">
        <h1 class="heading-font text-2xl mb-10 text-white">R10 <span class="text-[#E2A900]">ADMIN</span></h1>
        <nav class="space-y-4">
            <button onclick="showTab('inventory')" class="w-full text-left font-bold hover:underline">ðŸ“¦ INVENTAIRE</button>
            <button onclick="showTab('orders')" class="w-full text-left font-bold hover:underline">ðŸ§¾ COMMANDES</button>
            <hr class="border-gray-700">
            <a href="#" class="text-sm opacity-70">Voir la boutique client</a>
        </nav>
    </aside>

    <main class="flex-grow p-10">
        
        <section id="inventory" class="tab-content active">
            <h2 class="heading-font text-4xl mb-8">Gestion du Stock</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                <div class="admin-card neo-brutal-shadow bg-[#E2A900]">
                    <h3 class="heading-font text-xl mb-4">Ajouter un Produit</h3>
                    <label class="block font-bold">Nom du modÃ¨le</label>
                    <input type="text" id="p-name" class="input-neo" placeholder="Ex: R10 Gold '05">
                    
                    <label class="block font-bold">Prix (â‚¬)</label>
                    <input type="number" id="p-price" class="input-neo" placeholder="180">
                    
                    <label class="block font-bold">URL Image</label>
                    <input type="text" id="p-img" class="input-neo" placeholder="Lien de la photo">
                    
                    <label class="block font-bold">Description</label>
                    <textarea id="p-desc" class="input-neo" rows="3"></textarea>
                    
                    <button onclick="addProduct()" class="w-full bg-black text-white p-3 font-black uppercase">Mettre en rayon</button>
                </div>

                <div class="lg:col-span-2">
                    <div id="admin-product-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        </div>
                </div>
            </div>
        </section>

        <section id="orders" class="tab-content">
            <h2 class="heading-font text-4xl mb-8">Commandes ReÃ§ues</h2>
            <div id="admin-orders-list" class="space-y-6">
                </div>
        </section>

    </main>

    <script>
        // Initialisation des donnÃ©es (partagÃ©es avec le site client via localStorage)
        let products = JSON.parse(localStorage.getItem('r10_products')) || [
            { id: 1, name: "R10 GOLD '05", price: 180, img: "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800", longDesc: "La R10 Gold '05 n'est pas qu'une chaussure, c'est un trophÃ©e." },
            { id: 2, name: "SPEED MASTER", price: 125, img: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800", longDesc: "ConÃ§ue pour ceux qui ne s'arrÃªtent jamais." }
        ];

        let orders = JSON.parse(localStorage.getItem('r10_orders')) || [];

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            if(tabId === 'inventory') renderAdminProducts();
            if(tabId === 'orders') renderAdminOrders();
        }

        // --- GESTION INVENTAIRE ---
        function renderAdminProducts() {
            const list = document.getElementById('admin-product-list');
            list.innerHTML = products.map(p => `
                <div class="admin-card flex gap-4 items-center bg-white">
                    <img src="${p.img}" class="w-20 h-20 object-cover border-2 border-black">
                    <div class="flex-grow">
                        <h4 class="font-black">${p.name}</h4>
                        <p class="font-bold text-sm">${p.price}â‚¬</p>
                    </div>
                    <button onclick="deleteProduct(${p.id})" class="text-red-600 font-bold border-2 border-red-600 px-2">Supprimer</button>
                </div>
            `).join('');
            // On sauvegarde pour que le site client voie les changements
            localStorage.setItem('r10_products', JSON.stringify(products));
        }

        function addProduct() {
            const name = document.getElementById('p-name').value;
            const price = document.getElementById('p-price').value;
            const img = document.getElementById('p-img').value;
            const desc = document.getElementById('p-desc').value;

            if(!name || !price) return alert("Remplis au moins le nom et le prix !");

            const newP = {
                id: Date.now(),
                name: name,
                price: parseInt(price),
                img: img || "https://via.placeholder.com/400",
                longDesc: desc
            };

            products.push(newP);
            renderAdminProducts();
            // Reset form
            document.getElementById('p-name').value = '';
            document.getElementById('p-price').value = '';
        }

        function deleteProduct(id) {
            if(confirm("Supprimer ce produit ?")) {
                products = products.filter(p => p.id !== id);
                renderAdminProducts();
            }
        }

        // --- GESTION COMMANDES ---
        function renderAdminOrders() {
            const list = document.getElementById('admin-orders-list');
            if(orders.length === 0) {
                list.innerHTML = "<p class='opacity-50 font-bold'>Aucune commande pour le moment...</p>";
                return;
            }

            list.innerHTML = orders.map(o => `
                <div class="admin-card bg-white neo-brutal-shadow">
                    <div class="flex justify-between border-b-2 border-black pb-2 mb-4">
                        <span class="font-black">COMMANDE #${o.id}</span>
                        <span class="bg-black text-white px-2 text-sm">${o.date}</span>
                    </div>
                    <div class="mb-4">
                        <p><b>Client:</b> ${o.items[0]?.customerNom || 'Inconnu'} (${o.status})</p>
                        <ul class="list-disc ml-5">
                            ${o.items.map(i => `<li>${i.name} - Taille ${i.size} (${i.price}â‚¬)</li>`).join('')}
                        </ul>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xl font-black">TOTAL: ${o.total}â‚¬</span>
                        <button onclick="deleteOrder(${o.id})" class="bg-red-500 text-white p-1 text-xs">Archiver / Supprimer</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteOrder(id) {
            orders = orders.filter(o => o.id !== id);
            localStorage.setItem('r10_orders', JSON.stringify(orders));
            renderAdminOrders();
        }

        window.onload = () => {
            renderAdminProducts();
        };
    </script>
</body>
</html>